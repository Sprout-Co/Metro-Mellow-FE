@import "@/styles/abstracts/variables";
@import "@/styles/abstracts/mixins";
@import "@/styles/abstracts/functions";

.details {
  width: 100%;
  background-color: color("neutral", "white");
  border: 1px solid color("neutral", "lighter");
  border-radius: border-radius("md");
  padding: spacing("lg");
  box-shadow: map-get($shadows, "md");

  &__headerRow {
    @include flex-between;
    gap: spacing("md");
    margin-bottom: spacing("lg");
  }

  &__left {
    @include flex($align: center);
    gap: spacing("md");
    min-width: 0;
  }

  &__icon {
    width: 56px;
    height: 56px;
    border-radius: border-radius("full");
    @include flex-center;
    background-color: color("primary", "base");

    &--active { background-color: color("primary", "base"); }
    &--canceled { background-color: color("status", "error"); }
    &--suspended { background-color: color("status", "warning"); }
  }

  &__serviceIcon {
    width: 28px;
    height: 28px;
    color: color("neutral", "white");
  }

  &__titleWrap { min-width: 0; }

  &__title {
    @include font-secondary;
    @include font-size("title");
    @include font-weight("bold");
    color: color("neutral", "black");
    margin: 0 0 spacing("xxs");
  }

  &__freqRow { @include flex($align: center); gap: spacing("xs"); }
  &__freq {
    @include font-secondary;
    @include font-size("sm");
    @include font-weight("medium");
    color: color("neutral", "dark");
    white-space: nowrap;
  }

  &__toggleButton {
    @include font-secondary;
    @include font-size("xs");
    @include font-weight("semibold");
    color: color("primary", "base") !important;
    padding: 0 !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }

  &__grid {
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    column-gap: spacing("2xl");
    row-gap: spacing("xl");
    padding-bottom: spacing("lg");
    border-bottom: 1px solid color("neutral", "lighter");

    @include breakpoint-down("lg") {
      grid-template-columns: repeat(2, 1fr);
      column-gap: spacing("xl");
    }
    @include breakpoint-down("md") { grid-template-columns: 1fr; }
  }

  &__col { display: flex; flex-direction: column; gap: spacing("xl"); }
  &__field { display: flex; flex-direction: column; }

  &__label {
    @include font-secondary;
    @include font-size("sm");
    @include font-weight("medium");
    color: color("neutral", "dark");
    margin-bottom: spacing("xxs");
  }

  &__value {
    @include font-secondary;
    @include font-size("base");
    @include font-weight("bold");
    color: color("neutral", "darkest");
  }

  &__period {
    @include font-size("sm");
    @include font-weight("medium");
    color: color("neutral", "dark");
    margin-left: spacing("xxs");
  }

  &__status {
    @extend .details__value;
    padding: spacing("xs") spacing("md");
    border-radius: border-radius("full");
    display: inline-flex;
    align-items: center;

    &--active { background-color: rgba(color("status", "success"), 0.12); color: color("status", "success"); }
    &--canceled { background-color: rgba(color("status", "error"), 0.12); color: color("status", "error"); }
    &--suspended { background-color: rgba(color("status", "warning"), 0.12); color: color("status", "warning"); }
  }

  &__items { margin-top: spacing("lg"); }

  &__itemRow {
    @include flex-between;
    align-items: center;
    padding: spacing("lg") spacing("md");
    border: 1px solid color("neutral", "lighter");
    border-radius: border-radius("md");
    background-color: color("neutral", "white");
    box-shadow: map-get($shadows, "sm");
    margin-bottom: spacing("md");
  }

  &__itemLeft { @include flex($align: center); gap: spacing("md"); }
  &__miniIcon { width: 48px; height: 48px; border-radius: border-radius("full"); background: color("primary", "base"); }
  &__miniIcon--variant-1 { background: color("primary", "base"); }
  &__miniIcon--variant-2 { background: color("status", "warning"); }
  &__miniIcon--variant-3 { background: color("status", "error"); }
  &__itemText { display: flex; flex-direction: column; }
  &__itemName { @include font-secondary; @include font-weight("semibold"); color: color("neutral", "black"); }
  &__itemFreqRow { @include flex($align: center); gap: spacing("xs"); margin-top: spacing("xxs"); }
  &__itemFreq { @include font-secondary; @include font-size("sm"); color: color("neutral", "dark"); }
  &__itemRight { text-align: right; }
  &__itemPriceLabel { @include font-secondary; @include font-size("sm"); color: color("neutral", "dark"); margin-bottom: spacing("xxs"); }
  &__itemPrice { @include font-secondary; @include font-weight("bold"); color: color("neutral", "black"); }

  &__actions {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    gap: spacing("xl");
    margin-top: spacing("2xl");
    width: 100%;

    @include breakpoint-down("sm") {
      flex-direction: column-reverse;
      align-items: stretch;
      gap: spacing("md");
    }
  }

  &__cancel {
    @include button-base("xl");
    background-color: color("secondary", "base");
    border-color: color("secondary", "base");
    color: color("neutral", "white");
    min-width: 220px;
    border-radius: border-radius("xl") !important;

    &:hover { background-color: color-darken("secondary", "base", 5%); border-color: color-darken("secondary", "base", 5%); }
  }
  &__pause {
    @include button-base("xl");
    background-color: color("neutral", "lighter");
    color: color("neutral", "black");
    border-color: color("neutral", "light");
    min-width: 220px;
    border-radius: border-radius("xl") !important;

    &:hover { box-shadow: map-get($shadows, "md"); }
  }
}


