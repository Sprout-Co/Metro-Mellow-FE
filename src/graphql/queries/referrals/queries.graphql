query MyCommissions {
  myCommissions {
    id
    amount
    status
    paidAt
    paidBy {
      id
      email
      firstName
      lastName
    }
    referredUser {
      id
      email
      firstName
      lastName
    }
    referrer {
      id
      email
      firstName
      lastName
    }
    booking {
      id
    }
    createdAt
  }
}

query MyReferralInfo {
  myReferralInfo {
    referralCode
    referralLink
    totalEarnings
    pendingEarnings
    paidEarnings
    referredUsersCount
  }
}

query MyReferralDiscountInfo {
  myReferralDiscountInfo {
    isEligible # Whether user can get discount
    discountPercentage # The discount % (e.g., 10)
    remainingDiscountedBookings # How many discounted bookings left
    maxDiscountedBookings # Max allowed (e.g., 3)
  }
}

# Admin queries
query AllCommissions {
  allCommissions {
    id
    amount
    status
    paidAt
    paidBy {
      id
      email
      firstName
      lastName
    }
    referredUser {
      id
      email
      firstName
      lastName
    }
    referrer {
      id
      email
      firstName
      lastName
    }
    booking {
      id
    }
    createdAt
  }
}

query UserCommissions($userId: ID!) {
  userCommissions(userId: $userId) {
    id
    amount
    status
    paidAt
    paidBy {
      id
      email
      firstName
      lastName
    }
    referredUser {
      id
      email
      firstName
      lastName
    }
    referrer {
      id
      email
      firstName
      lastName
    }
    booking {
      id
    }
    createdAt
  }
}
