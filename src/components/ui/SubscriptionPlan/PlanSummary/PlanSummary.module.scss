@import "../../../../styles/abstracts/variables";
@import "../../../../styles/abstracts/functions";
@import "../../../../styles/abstracts/mixins";

.summary {
  @include card("md");
  padding: spacing("lg");
  width: 100%;
  max-width: 100%;

  &__header {
    @include flex-between;
    margin-bottom: spacing("md");
  }

  &__title {
    @include heading-5;
    margin: 0;
  }

  &__editButton {
    min-width: auto;
  }

  &__totals {
    margin-top: spacing("lg");
    padding-top: spacing("lg");
    border-top: border-width("thin") solid color("neutral", "lighter");
  }

  &__totalRow {
    @include flex-between;
    padding: spacing("sm") 0;
    
    &:not(:last-child) {
      margin-bottom: spacing("xs");
    }
    
    &:last-child {
      background-color: color("primary", "base");
      padding: spacing("md");
      border-radius: border-radius("lg");
      color: color("neutral", "white");
    }
  }

  &__totalLabel {
    @include font-secondary;
    @include font-size("body-2");
    @include font-weight("medium");
  }

  &__totalValue {
    @include font-secondary;
    @include font-size("body-1");
    @include font-weight("bold");
  }

  &__actions {
    margin-top: spacing("xl");
  }

  &__proceedButton {
    text-transform: uppercase;
    @include font-weight("bold");
    padding: spacing("md") spacing("xl");
  }
}

.serviceCards {
  display: flex;
  flex-direction: column;
  gap: spacing("md");

  &__empty {
    @include flex-column-center;
    padding: spacing("xl");
    text-align: center;
    color: color("neutral", "dark");
    
    p {
      @include font-secondary;
      @include font-size("body-2");
      @include font-weight("medium");
      margin: 0;
    }
  }
}

.serviceCard {
  @include card("sm");
  border-radius: border-radius("lg");
  overflow: hidden;
  position: relative;

  &__header {
    @include flex-between;
    padding: spacing("md");
    background-color: color("neutral", "lightest");
  }

  &__icon {
    width: spacing("3xl");
    height: spacing("3xl");
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;

    &--food {
      background-color: color-alpha("primary", "base", 0.1);
      
      .serviceCard__iconInner {
        background-color: color("primary", "base");
      }
    }

    &--cleaning {
      background-color: color-alpha("status", "info", 0.1);

      .serviceCard__iconInner {
        background-color: color("status", "info");
      }
    }

    &--laundry {
      background-color: color-alpha("accent", "base", 0.1);

      .serviceCard__iconInner {
        background-color: color("accent", "base");
      }
    }

    &--pest-control {
      background-color: color-alpha("secondary", "base", 0.1);

      .serviceCard__iconInner {
        background-color: color("secondary", "base");
      }
    }
  }

  &__iconInner {
    width: 50%;
    height: 50%;
    mask-size: contain;
    mask-position: center;
    mask-repeat: no-repeat;

    // Default icons using CSS masks
    .serviceCard__icon--food & {
      mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M8.1 13.34l2.83-2.83L3.91 3.5c-1.56 1.56-1.56 4.09 0 5.66l4.19 4.18zm6.78-1.81c1.53.71 3.68.21 5.27-1.38 1.91-1.91 2.28-4.65.81-6.12-1.46-1.46-4.2-1.1-6.12.81-1.59 1.59-2.09 3.74-1.38 5.27L3.7 19.87l1.41 1.41L12 14.41l6.88 6.88 1.41-1.41L13.41 13l1.47-1.47z'/%3E%3C/svg%3E");
    }

    .serviceCard__icon--cleaning & {
      mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M19.36 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.64-4.96z'/%3E%3C/svg%3E");
    }

    .serviceCard__icon--laundry & {
      mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M18 2.01L6 2c-1.11 0-2 .89-2 2v16c0 1.11.89 2 2 2h12c1.11 0 2-.89 2-2V4c0-1.11-.89-1.99-2-1.99zM18 20H6v-9.02h12V20zm0-11H6V4h12v5zM8 5h2v2H8V5zm0 11h8v2H8v-2z'/%3E%3C/svg%3E");
    }

    .serviceCard__icon--pest-control & {
      mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M21.31 17.38l-2.39-2.13c.52-2.36-1.36-4.25-3.42-4.25-1.16 0-3 .8-3 4v1h-4l-1.9-4.99c-.5.3-1.06.45-1.62.54-.01 0-.03.01-.05.01-.55.1-1.4.16-1.94.16v10h16v-1.35c0-1.31.32-2.5.93-3.5.32-.53.72-.99 1.19-1.38l.2-.11zm-7.32-2.01c0-1.85.99-1.97 1.53-2 .97.03 1.5.4 1.5 2.01v3.63h-3.03v-3.64zm-10.99 7.13v-13c0-1.1.9-2 2-2h5.67l1.41-1.97C8.35 2.5 7.95 1.5 8.77.79l.79-.79 3.38 6.38c.64 1.57.41 2.62-1.11 2.62h-5.83v13h-3z'/%3E%3C/svg%3E");
    }
  }

  &__headerInfo {
    flex: 1;
    margin: 0 spacing("md");
  }

  &__title {
    @include font-secondary;
    @include font-size("body-1");
    @include font-weight("bold");
    margin: 0;
    color: color("neutral", "black");
  }

  &__plan {
    @include font-secondary;
    @include font-size("sm");
    @include font-weight("medium");
    margin: spacing("xxs") 0 0;
    color: color("status", "success");
    display: flex;
    align-items: center;

    &::before {
      content: '';
      display: inline-block;
      width: spacing("xs");
      height: spacing("xs");
      border-radius: 50%;
      background-color: currentColor;
      margin-right: spacing("xxs");
    }
  }

  &__price {
    text-align: right;
  }

  &__priceAmount {
    @include font-secondary;
    @include font-size("body-1");
    @include font-weight("bold");
    display: block;
    color: color("neutral", "black");
  }

  &__priceFrequency {
    @include font-secondary;
    @include font-size("sm");
    @include font-weight("medium");
    color: color("neutral", "dark");
  }

  &__editIcon {
    min-width: auto !important;
    min-height: auto !important;
    width: spacing("lg");
    height: spacing("lg");
    padding: 0 !important;
    margin-left: spacing("sm");
    color: color("neutral", "dark");

    &:hover {
      color: color("primary", "base");
      background-color: color-alpha("primary", "base", 0.05);
    }
  }

  &__details {
    padding: spacing("md");
  }

  &__detail {
    @include flex-between;
    padding: spacing("xs") 0;

    &:not(:last-child) {
      margin-bottom: spacing("xs");
    }
  }

  &__detailLabel {
    @include font-secondary;
    @include font-size("sm");
    @include font-weight("medium");
    color: color("neutral", "dark");
  }

  &__detailValue {
    @include font-secondary;
    @include font-size("sm");
    @include font-weight("semibold");
    color: color("neutral", "black");
  }

  &__editButton {
    position: absolute;
    top: spacing("md");
    right: spacing("md");
    @include font-secondary;
    @include font-size("xs");
    @include font-weight("bold");
    color: color("neutral", "darkest");
    background: transparent;
    border: none;
    display: flex;
    align-items: center;
    cursor: pointer;
    padding: spacing("xs");
    border-radius: border-radius("sm");
    transition: $transition-base;
    
    &::after {
      content: '';
      display: inline-block;
      width: spacing("sm");
      height: spacing("sm");
      margin-left: spacing("xxs");
      background-color: currentColor;
      mask-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'%3E%3Cpath d='M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z'/%3E%3C/svg%3E");
      mask-size: contain;
      mask-repeat: no-repeat;
      mask-position: center;
    }

    &:hover {
      color: color("primary", "base");
      background-color: color-alpha("primary", "base", 0.05);
    }
  }
}

@include breakpoint-down("md") {
  .serviceCard {
    &__header {
      flex-wrap: wrap;
    }

    &__headerInfo {
      order: 2;
      flex-basis: 60%;
      margin-top: spacing("sm");
    }

    &__price {
      order: 3;
      flex-basis: 40%;
      text-align: right;
      margin-top: spacing("sm");
    }

    &__icon {
      order: 1;
      margin-right: auto;
    }
  }
}
